
## 1章

保守性が悪くなる原因

* 命名が悪い
* ネストが多い
* 重複コードが多い
* 不正値が混入しても気づかない
* 低凝集

## 2章

## 3章

* クラス単体で正常動作するよう設計する
理由
クラスが単体で正常動作するよう設計することで、使いやすい部品とするため。
まどろっこしい初期設定をせずともはじめから使える設計にします。
また、クラスが不正状態に陥りバグを生み出さないよう、
正しく操作できるメソッドのみを外部に提供します。


## 5章

データとロジックの関係性が強いクラス(凝集度が高いクラス)を作るようにする。

凝集度に影響がない場合に、staticメソッドが使える。
ログ出力用メソッドなど、凝集度に無関係なものにはstaticメソッドを使うのが良い。

初期化ロジックの分散を防ぐためには、コンストラクタをprivateにして、
代わりに目的別のおファクトリメソッドを用意するのが良い。

結果を返すために引数を用いる(出力として用いる引数である出力引数)は使わないようにする。
低凝集な構造に陥りやすいため。

引数が多いメソッドは、それだけ多くの引数に依存した処理を行っているということになるため、
凝集度が低いと言える。そのため、引数が多くならないようにする。

デメテルの法則(利用するオブジェクトの内部を知るべきではないとするもの)に沿って
考えると、階層的に属性にアクセスをするのは法則に違反している。

ソフトウェア設計には、尋ねるな、命じろという有名な格言があります。
他のオブジェクトの内部状態を尋ねたり、その状態に応じて呼び出し側が判断するのではなく、
呼び出し側はただメソッドで命ずるだけで、命令された側で適切な判断や制御を行うよう設計します。

## 6章

* switch文で条件分岐をしてしまうと、様々なところで同じswitch文を書いてしまう、といったことが起こり得てしまう、、

switch文の重複コードを解消するには、単一責任原則の考え方が重要!

「ソフトウェアシステムが選択肢を提供しなければならない時、そのシステムの中の
一つのモジュールだけがその選択肢の全てを把握すべきである。」

なお、interfaceを使うと、分岐ロジックを書かずに分岐と同じことが実現可能。

* 型チェックで分岐してはいけない。

interfaceを利用しているのに、 サンプルコードのように利用する側で条件分岐を書いてしまうと意味がない。

リスコフの置換原則・・・クラスの基本型と継承型との間に成り立つ規律を示したもの。簡単にいうと基本型を継承型に置き換えても
問題なく動作しなければならないとするもの。

リスコフの置換原則に違反すると、型判定の分岐コードが増大してしまう要因となる。


**分岐を書きそうになったら、interfaceを切って設計できないか、まずは考えてみる**


* メソッド内に、引数で渡したフラグで処理をする場合、その引数をフラグ引数と呼ぶが、設計としてはよくないので改善できる。
  (メソッド内部の処理を見に行かないと、何を行うのか分からないため)
フラグ引数ではなく、ストラテジパターンで切り替えを行うようにする。

## 7章 コレクションの処理

* コレクション処理は、標準ライブラリに実現したい機能がないか確認する
* ループ処理の条件分岐ネストは早期continueで解決可能
* コレクションの低凝集を解決するのがファーストコレクション
  * コレクション型インスタンス変数
  * コレクション型インスタンス変数を不正状態から防御し、正常に操作するメソッド

## 8章 密結合

結合度とは、「モジュール間の、依存の度合いを表す指標」です。
あるクラスが他の多くのクラスに依存している構造を密結合と呼びます。

単一責任の原則・・・クラスが担う責任は、たった一つに限定すべき。

DRY原則(Don't Repeat Yourself)と呼ばれる原則があります。
DRY原則・・・全てのシステム内において、単一、かつ明確な、そして信頼できる表現になっていなければならない。

**ただし、DRY原則を履き違えてはいけない。**
**同じようなロジック、似ているロジックであっても、概念が違えばDRYにすべきではない**

DRY原則の定義でも解説したように、似て非なるコードを共通化してはいけません。
仕様変更の際、特定のユースケース専用の処理を、共通ロジックに挿入しなければならない場合が出てきます。
そうしたロジックは、もはや共通と呼べません。 共通でないとわかった段階で共通化を解消しないと、
この動画のように特定ユースケースかどうかを判断する条件分岐が次々に実装されていくことになります。
処理を共通化して良いかどうかは、本章の割引の例のように、同じビジネス概念かどうかを見分ける必要があります。


継承関係
継承関係にあるクラスどうしでは、サブクラスはスーパークラスの構造にひどく依存します（スーパークラス依存）。
スーパークラス依存による密結合を避けるため、継承より委譲（委譲）が推奨されます。
委譲とはコンポジション構造にすることです。
利用したいクラスをスーパークラスとして継承するのではなく、リスト8.9に示すようにprivateなインスタンス変数として持ち、呼び出す、という使い方をします。

お互いの中身を知れるクラス構造は避けるべきです。
コンポジション構造にするなど、お互いのクラス構造を知らなくてもよい、
変更影響が伝搬しにくいクラス構造を目指しましょう。

## 9章

YAGNIの原則・・・You aren't going to need itの略

null問題

null例外によるトラブルやnullチェックを避けるために、
そもそもnullを取り扱わない設計にすることが大事です。

* nullを返さない
* nullを渡さない

null安全とは、nullが原因のエラーを発生させない仕組みのこと。」


## 自分のメモ
### 目的は?(Why)

### どのように?(How)

### 具体的には?(What)

